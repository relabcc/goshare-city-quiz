(self.webpackChunkstyled_gatsby_starter=self.webpackChunkstyled_gatsby_starter||[]).push([[171],{4253:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var a=n(1401),r=n(5444),i=n(7294),c=n(7690),o=n(5708),s=n(494),l=n(1779),u=n(6162),f=n.n(u),d=n(3750),m=n(5230),p=n(2437),b=n(2543),g=n(4667),h=n(7242);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var v=(0,b.G)((function(e,t){var n=e.icon,a=e.children,r=e.isRound,c=e["aria-label"],o=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["icon","children","isRound","aria-label"]),s=n||a,l=i.isValidElement(s)?i.cloneElement(s,{"aria-hidden":!0,focusable:!1}):null;return i.createElement(h.z,w({padding:"0",borderRadius:r?"full":void 0,ref:t,"aria-label":c},o),l)}));g.Ts&&(v.displayName="IconButton");var E=n(132),y=n(2359),x=n(466),Z=n(1531),k=n(1469),q=n.n(k),j=n(928),C=n.n(j),O=n(6767),S=["src","alt"],W={gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tiff",webp:"image/webp"},P=/data:(\w+\/\w+);base64/,I=(0,i.forwardRef)((function(e,t){var n=e.src,a=e.alt,r=(0,Z.Z)(e,S),c=(0,i.useMemo)((function(){return q()(n)?{sources:n.map((function(e){var t=P.exec(e),n=t?t[1]:W[C()(e.split("."))];return{srcSet:e,type:n}})),fallback:C()(n)}:null}),[n]);return q()(n)?i.createElement(O.E,Object.assign({as:"picture"},r,{ref:t}),c.sources.map((function(e,t){return i.createElement("source",Object.assign({key:t},e))})),i.createElement("img",{src:c.fallback,alt:a})):i.createElement(O.E,Object.assign({src:n,alt:a},r,{ref:t}))}));I.defaultProps={width:"100%"},I.displayName="Image";var Q,_=I,z=n(3941),M=n(9370),N=n(3347),A=n(8126),B=(n(3039),n(4774)),J=n(545),T=JSON.parse('{"istanbul":[[12,20,0],[12,0,8],[20,12,0],[16,0,8],[20,0,4],[20,8,0]],"hawaii":[[16,0,8],[16,0,12],[20,4,0],[4,0,16],[8,4,20],[20,12,0]],"ibiza":[[12,0,16],[12,0,4],[20,8,0],[12,0,20],[16,4,8],[16,12,0]],"amsterdam":[[0,16,8],[0,4,12],[0,20,8],[8,20,4],[0,16,8],[12,20,0]],"nice":[[8,0,16],[0,8,16],[8,16,0],[0,16,12],[0,12,20],[16,8,0]],"iceland":[[8,16,4],[0,16,4],[0,8,20],[16,8,0],[20,8,0],[0,8,20]],"moscow":[[20,12,0],[20,8,0],[12,8,4],[20,0,4],[20,0,8],[4,0,20]],"stockholm":[[4,12,8],[4,16,8],[8,16,4],[20,0,4],[0,4,20],[4,20,8]],"munich":[[8,20,0],[0,20,4],[0,16,8],[12,20,4],[8,12,0],[0,16,12]],"nyc":[[20,4,0],[16,12,0],[4,8,20],[12,0,4],[20,0,8],[12,0,20]]}'),R=n(7364),F=[[n(8487).Z,n(8895).Z],[n(3286).Z,n(4478).Z],[n(7598).Z,n(6078).Z],[n(7879).Z,n(7383).Z],[n(1865).Z,n(896).Z],[n(4205).Z,n(7381).Z]],D={1:i.createElement(y.S,{alt:"Q1",src:"../image/q1.png",layout:"fullWidth",loading:"lazy",placeholder:"dominantColor",__imageData:n(1860)}),2:i.createElement(p.o,{ratio:768/599},i.createElement(_,{alt:"Q2",src:F[1]})),3:i.createElement(p.o,{ratio:768/599},i.createElement(_,{alt:"Q3",src:F[2]})),4:i.createElement(p.o,{ratio:768/599},i.createElement(_,{alt:"Q4",src:F[3]})),5:i.createElement(p.o,{ratio:768/599},i.createElement(_,{alt:"Q5",src:F[4]})),6:i.createElement(p.o,{ratio:768/599},i.createElement(_,{alt:"Q6",src:F[5]}))},G=Object.values(T),L=Object.keys(T),V=function(e){var t=e.data,n=e.pageContext,a=n.id,c=n.isLast,s=n.length,l=e.onNext,u=e.onPrev,p=(0,i.useState)(),b=p[0],g=p[1],h=(0,i.useState)(),w=h[0],y=h[1],Z=(0,m.useToken)("colors",["custom.teal"])[0],k=(0,o.u6)(),q=k.values,j=k.setFieldValue,C=(0,i.useRef)(),O=(0,i.useCallback)((function(e){var t=q.answers.slice(0,5).concat(e);g(!0);var n=G.reduce((function(e,n){var a=n.reduce((function(e,n,a){return e+=n[t[a]]||0}),0);return e.push(a),e}),[]),a=n.reduce((function(e,t,a){return t===f()(n)&&e.push(a),e}),[]),r=L[a[Math.floor(Math.random()*a.length)]];j("points",f()(n)),y(r)}),[q,j]);return(0,i.useEffect)((function(){w&&setTimeout((function(){C.current&&C.current.querySelector("a").click()}))}),[w]),i.createElement(i.Fragment,null,i.createElement(N.Z,{alignItems:"flex-end",justifyContent:"space-around"},i.createElement(z.Z,{width:(0,B.jW)("100%","442px")},i.createElement(N.Z,{pb:"0.25em",alignItems:"center",justify:"space-between",borderBottom:"1px solid",borderColor:"custom.borderGray"},i.createElement(v,{as:"1"===a&&function(e){return i.createElement(r.Link,Object.assign({to:"/"},e))},w:"1.5em",h:"1.5em",mr:"0.25em",minWidth:"auto",bg:"transparent",color:"custom.darkBlue",icon:i.createElement(E.J,{as:d.Ao2,w:6,h:6}),isDisabled:b,_hover:{bg:"transparent"},onClick:function(){"1"!==a&&u()}}),i.createElement(M.Z,{fontSize:"1.5rem",letterSpacing:"0.125em",fontFamily:"Flama",color:"lightGray"},i.createElement(M.Z.Inline,{color:"gray"},a),"/",s)),i.createElement(M.Z,{mt:"0.5em",fontWeight:"500",color:"custom.darkBlue",fontSize:"1.125em"},t.question),i.createElement(z.Z,{pt:(0,B.jW)("1em","3em")},D[a]),i.createElement(z.Z,null,t.options.map((function(e,t){return i.createElement(z.Z,{as:x.E.div,whileTap:{scale:1.1},mt:t&&"1em",key:t},i.createElement(A.Z,{onClick:function(e){c||l(),(0,J.t6)(a,t),j("answers."+(a-1),t),c&&O(t)},width:"100%",isDisabled:b,isActive:q.answers[+a-1]===t,_hover:{bg:(0,B.jW)("custom.gray","custom.teal")},_active:{bg:"custom.teal"}},e))}))))),c&&i.createElement(z.Z.Absolute,{opacity:"0",width:"0",height:"0",overflow:"hidden",ref:C},i.createElement(R.Z,{tabIndex:"-1",hex:Z,to:"/result/"+w})))},X=n(6810),H=n(8400),K=n.n(H),U=n(8020),Y=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return setTimeout(t)},function(){var e=document.getElementById("re-image-preloader");return e||((e=document.createElement("div")).setAttribute("id","re-image-preloader"),e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.zIndex="-999",e.style.width="1px",document.body.appendChild(e)),e}().appendChild(n),n.src=q()(e)?(0,U.g)(e):(null==e?void 0:e.default)||e}))},$=function(e){if(q()(e)){var t=K()(e.filter(Boolean),6);return t.length>1?t.reduce((function(e,t){return e.then((function(){return Promise.all(t.map(Y))}))}),Promise.resolve()):Promise.all(e.map(Y))}return Y(e)},ee=(0,s.Z)(l.Z)(Q||(Q=(0,a.Z)(["\n@media (min-height: 680px) and (min-width: 784px) {\n  .footer {\n    padding-top: 0px;\n    padding-bottom: 0px;\n    position: absolute;\n    transform: translateX(-50%);\n    background: transparent;\n  }\n}\n@media (min-height: 811px) and (min-width: 768px) {\n  height: 812px;\n}\n@media (min-height: 680px) and (max-width: 784px) {\n  .main-wrapper {\n    height: calc(100% - 57.25px);\n  }\n}\n"]))),te=function(e){var t=e.data,n=e.pageContext.id,a=t.allQuestionsJson.nodes.length,s=n-1,l=(0,o.u6)().values,u=(0,i.useCallback)((function(e){setTimeout((function(){(0,r.navigate)("/q/"+(e+2))}),300)}),[]),f=(0,i.useCallback)((function(e){(0,r.navigate)("/q/"+e)}),[]);(0,i.useEffect)((function(){$(F.slice(1))}),[]);var d=(0,i.useMemo)((function(){return l.answers.length<n-1}),[n,l.answers.length]);(0,i.useEffect)((function(){d&&/\/q\//.test(window.location.pathname)&&(0,r.navigate)("/")}),[d]);var m=(0,i.useMemo)((function(){return t.allQuestionsJson.nodes.map((function(e,t){return t===s&&i.createElement(c.xu,{bg:"white",key:e.id,px:"1.875em"},i.createElement(V,{data:e,onNext:function(){return u(t)},onPrev:function(){return f(t)},pageContext:{id:e.id,length:a,isLast:t===a-1}}))}))}),[s,t.allQuestionsJson.nodes,u,f,a]);return d?null:i.createElement(ee,{bg:"white",title:"第"+(s+1)+"題",footerProps:{maxWidth:(0,B.jW)("auto","375px"),mx:"auto",py:"1em",position:"static",left:"50%",transform:"none",bottom:"2em"},headerProps:{mt:"1.5em"}},i.createElement(X.Z,{className:"main-wrapper",height:(0,B.jW)("auto","100%"),maxWidth:(0,B.jW)("auto","375px"),pt:"1em",px:"0"},m))}},4259:function(e){e.exports=function(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++a<r;)i[a]=e[a+t];return i}},8400:function(e,t,n){var a=n(4259),r=n(6612),i=n(554),c=Math.ceil,o=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:o(i(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var l=0,u=0,f=Array(c(s/t));l<s;)f[u++]=a(e,l,l+=t);return f}},928:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},554:function(e,t,n){var a=n(8601);e.exports=function(e){var t=a(e),n=t%1;return t==t?n?t-n:t:0}},8895:function(e,t,n){"use strict";t.Z=n.p+"static/q1-3e71a224d73c0352eb91da0ead4030fa.png"},8487:function(e,t,n){"use strict";t.Z=n.p+"static/q1-7edf4f7f589f5f64e54c334bea9da334.webp"},4478:function(e,t,n){"use strict";t.Z=n.p+"static/q2-9e4a70df4fb8521fd55de4472dd4f9e2.png"},3286:function(e,t,n){"use strict";t.Z=n.p+"static/q2-b1f010be93b22bdbaf7eb0b78636eb0e.webp"},6078:function(e,t,n){"use strict";t.Z=n.p+"static/q3-9f7dd3f95f56311033d9df3b3137f031.png"},7598:function(e,t,n){"use strict";t.Z=n.p+"static/q3-dbab83a7db34c9eeb40239a85946e27f.webp"},7383:function(e,t,n){"use strict";t.Z=n.p+"static/q4-82f54154d7b5814e39e94d2fd1639fda.png"},7879:function(e,t,n){"use strict";t.Z=n.p+"static/q4-1e8492f09d964ce7fa6fb7d730682fc4.webp"},896:function(e,t,n){"use strict";t.Z=n.p+"static/q5-b10e4f8b617da320517c82314132251f.png"},1865:function(e,t,n){"use strict";t.Z=n.p+"static/q5-5b398bfcda23287ef7739f334f1a1691.webp"},7381:function(e,t,n){"use strict";t.Z=n.p+"static/q6-c136f39d28d603ac911aa53083a0acb5.png"},4205:function(e,t,n){"use strict";t.Z=n.p+"static/q6-a466b7699907abd2693febf300f9aca4.webp"},1860:function(e){"use strict";e.exports=JSON.parse('{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/omg-anywhere-door/static/cfd7dcffc6033b9b327d2bd64a1ee80d/4cc2a/q1.png","srcSet":"/omg-anywhere-door/static/cfd7dcffc6033b9b327d2bd64a1ee80d/f0b8a/q1.png 750w,\\n/omg-anywhere-door/static/cfd7dcffc6033b9b327d2bd64a1ee80d/4cc2a/q1.png 768w","sizes":"100vw"},"sources":[{"srcSet":"/omg-anywhere-door/static/cfd7dcffc6033b9b327d2bd64a1ee80d/5f7ab/q1.webp 750w,\\n/omg-anywhere-door/static/cfd7dcffc6033b9b327d2bd64a1ee80d/ed280/q1.webp 768w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.7799479166666666}')}}]);
//# sourceMappingURL=component---src-templates-q-js-227277d890e47c5902f9.js.map