{"version":3,"file":"component---src-templates-q-js-227277d890e47c5902f9.js","mappings":"yUAAA,SAASA,IAeP,OAdAA,EAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,IAGOS,MAAMC,KAAMR,WAsBvB,IAAIS,GAA0B,QAAW,SAAUC,EAAOC,GAC/D,IAAIC,EAAOF,EAAME,KACbC,EAAWH,EAAMG,SACjBC,EAAUJ,EAAMI,QAChBC,EAAYL,EAAM,cAClBM,EAxBN,SAAuCd,EAAQe,GAC7C,GAAc,MAAVf,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACToB,EAAatB,OAAOuB,KAAKjB,GAG7B,IAAKH,EAAI,EAAGA,EAAImB,EAAWjB,OAAQF,IACjCI,EAAMe,EAAWnB,GACbkB,EAASG,QAAQjB,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,EAYIuB,CAA8BX,EAAO,CAAC,OAAQ,WAAY,UAAW,eAM5EY,EAAUV,GAAQC,EAElBU,EAAyB,iBAAqBD,GAAwB,eAAmBA,EAAS,CACpG,eAAe,EACfE,WAAW,IACR,KAEL,OAAoB,gBAAoB,IAAQ7B,EAAS,CACvD8B,QAAS,IACTC,aAAcZ,EAAU,YAASa,EACjChB,IAAKA,EACL,aAAcI,GACbC,GAAOO,MAGR,OACFd,EAAWmB,YAAc,c,yGC3DrBC,EAAY,CAChBC,IAAK,YACLC,KAAM,aACNC,IAAK,aACLC,IAAK,YACLC,KAAM,aACNC,IAAK,aACLC,KAAM,cAGFC,EAAa,yBAEbC,GAAUC,EAAAA,EAAAA,aAAW,WAAyB5B,GAAS,IAA/B6B,EAA8B,EAA9BA,IAAKC,EAAyB,EAAzBA,IAAQ/B,GAAiB,YACpDgC,GAAMC,EAAAA,EAAAA,UAAQ,WAClB,OAAKC,GAAAA,CAAQJ,GASN,CACLK,QATcL,EAAIM,KAAI,SAACC,GACvB,IAAMC,EAAOX,EAAWY,KAAKF,GACvBG,EAAOF,EAAOA,EAAK,GAAKnB,EAAUsB,GAAAA,CAAKJ,EAAOK,MAAM,OAC1D,MAAO,CACLL,OAAAA,EACAG,KAAAA,MAKFG,SAAUF,GAAAA,CAAKX,IAXS,OAazB,CAACA,IACJ,OAAII,GAAAA,CAAQJ,GAER,gBAAC,IAAD,eAAOc,GAAG,WAAa5C,EAAvB,CAA8BC,IAAKA,IAChC+B,EAAIG,QAAQC,KAAI,SAACS,EAAGxD,GAAJ,OAAU,wCAAQI,IAAKJ,GAAOwD,OAC/C,uBAAKf,IAAKE,EAAIW,SAAUZ,IAAKA,KAK5B,gBAAC,IAAD,eAAOD,IAAKA,EAAKC,IAAKA,GAAS/B,EAA/B,CAAsCC,IAAKA,QAGpD2B,EAAQkB,aAAe,CACrBC,MAAO,QAGTnB,EAAQV,YAAc,QAEtB,I,EAAA,I,6vBC9Ba8B,EAAS,CACpB,CAACC,EAAAA,MAAAA,EAAqCA,EAAAA,MAAAA,GACtC,CAACA,EAAAA,MAAAA,EAAqCA,EAAAA,MAAAA,GACtC,CAACA,EAAAA,MAAAA,EAAqCA,EAAAA,MAAAA,GACtC,CAACA,EAAAA,MAAAA,EAAqCA,EAAAA,MAAAA,GACtC,CAACA,EAAAA,MAAAA,EAAqCA,EAAAA,KAAAA,GACtC,CAACA,EAAAA,MAAAA,EAAqCA,EAAAA,MAAAA,IAOlCC,EAAU,CACd,EAAG,gBAAC,EAAAC,EAAD,CAAapB,IAAI,KAAKD,IAAI,kBAAkBsB,OALlC,YAKkDC,QAHjD,OAGmEC,YAJ/D,gBAIf,sBACH,EAAG,gBAAC,IAAD,CAAaC,MAAO,IAAM,KAAK,gBAAC,EAAD,CAAOxB,IAAI,KAAKD,IAAKkB,EAAO,MAC9D,EAAG,gBAAC,IAAD,CAAaO,MAAO,IAAM,KAAK,gBAAC,EAAD,CAAOxB,IAAI,KAAKD,IAAKkB,EAAO,MAC9D,EAAG,gBAAC,IAAD,CAAaO,MAAO,IAAM,KAAK,gBAAC,EAAD,CAAOxB,IAAI,KAAKD,IAAKkB,EAAO,MAC9D,EAAG,gBAAC,IAAD,CAAaO,MAAO,IAAM,KAAK,gBAAC,EAAD,CAAOxB,IAAI,KAAKD,IAAKkB,EAAO,MAC9D,EAAG,gBAAC,IAAD,CAAaO,MAAO,IAAM,KAAK,gBAAC,EAAD,CAAOxB,IAAI,KAAKD,IAAKkB,EAAO,OAY1DQ,EAAiBtE,OAAOuE,OAAOC,GAC/BC,EAAQzE,OAAOuB,KAAKiD,GAsI1B,EApIiB,SAAC,GAAmE,IAAjEE,EAAgE,EAAhEA,KAAgE,IAA1DC,YAAeC,EAA2C,EAA3CA,GAAIC,EAAuC,EAAvCA,OAAQxE,EAA+B,EAA/BA,OAAUyE,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,OACrE,GAAsCC,EAAAA,EAAAA,YAA/BC,EAAP,KAAqBC,EAArB,KACA,GAA2BF,EAAAA,EAAAA,YAApBG,EAAP,KAAgBC,EAAhB,KACOC,GAAQC,EAAAA,EAAAA,UAAS,SAAU,CAAC,gBAAnC,GACA,GAAkCC,EAAAA,EAAAA,MAA1BhB,EAAR,EAAQA,OAAQiB,EAAhB,EAAgBA,cACVC,GAAaC,EAAAA,EAAAA,UACbC,GAAeC,EAAAA,EAAAA,cAAY,SAACC,GAChC,IAAMC,EAAavB,EAAOwB,QAAQC,MAAM,EAAG,GAAGC,OAAOJ,GACrDX,GAAc,GACd,IAAMgB,EAAc5B,EAAe6B,QAAO,SAACC,EAAKC,GAC9C,IAAMC,EAAQD,EAAOF,QAAO,SAACI,EAAOC,EAAKrG,GAEvC,OADAoG,GAAiBC,EAAIV,EAAW3F,KAAO,IAEtC,GAEH,OADAiG,EAAIK,KAAKH,GACFF,IACP,IACIM,EAAaR,EAAYC,QAAO,SAACC,EAAKI,EAAKrG,GAI/C,OAHIqG,IAAQ,IAAIN,IACdE,EAAIK,KAAKtG,GAEJiG,IACN,IACGO,EAAOlC,EAAMiC,EAAWE,KAAKC,MAAMD,KAAKE,SAASJ,EAAWrG,UAClEmF,EAAc,SAAU,IAAIU,IAC5Bd,EAAQuB,KACP,CAACpC,EAAQiB,IAUZ,OATAuB,EAAAA,EAAAA,YAAU,WACJ5B,GACF6B,YAAW,WACLvB,EAAWwB,SACbxB,EAAWwB,QAAQC,cAAc,KAAKC,aAI3C,CAAChC,IAEF,gCACE,gBAACiC,EAAA,EAAD,CAAMC,WAAW,WAAWC,eAAe,gBACzC,gBAACC,EAAA,EAAD,CAAK1D,OAAO2D,EAAAA,EAAAA,IAAW,OAAQ,UAC7B,gBAACJ,EAAA,EAAD,CACEK,GAAG,SACHJ,WAAW,SACXK,QAAQ,gBACRC,aAAa,YACbC,YAAY,qBAEZ,gBAAC/G,EAAD,CACE6C,GAAW,MAAPkB,GAAe,SAAAiD,GAAC,OAAI,gBAAC,EAAAC,KAAD,eAAMC,GAAG,KAAQF,KACzCG,EAAE,QACFC,EAAE,QACFC,GAAG,SACHC,SAAS,OACTC,GAAG,cACHC,MAAM,kBACNrH,KAAM,gBAAC,IAAD,CAAM0C,GAAI4E,EAAAA,IAAaN,EAAG,EAAGC,EAAG,IACtCM,WAAYtD,EACZuD,OAAQ,CACNJ,GAAI,eAENK,QAAS,WACI,MAAP7D,GACFG,OAIN,gBAAC2D,EAAA,EAAD,CACEC,SAAS,SACTC,cAAc,UACdC,WAAW,QACXR,MAAM,aAEN,gBAACK,EAAA,SAAD,CAAaL,MAAM,QAAQzD,GAN7B,IAMgDvE,IAGlD,gBAACqI,EAAA,EAAD,CACEI,GAAG,QACHC,WAAW,MACXV,MAAM,kBACNM,SAAS,WACTjE,EAAKsE,UACP,gBAACzB,EAAA,EAAD,CAAK0B,IAAIzB,EAAAA,EAAAA,IAAW,MAAO,QACxBxD,EAAQY,IAEX,gBAAC2C,EAAA,EAAD,KACG7C,EAAKwE,QAAQhG,KAAI,SAACiG,EAAKhJ,GAAN,OAChB,gBAACoH,EAAA,EAAD,CACE7D,GAAI0F,EAAAA,EAAAA,IACJC,SAAU,CAAEC,MAAO,KACnBR,GAAI3I,GAAK,MACTI,IAAKJ,GAEL,gBAACoJ,EAAA,EAAD,CAEEd,QAAS,SAACe,GACH3E,GACHC,KAEF2E,EAAAA,EAAAA,IAAY7E,EAAIzE,GAChBqF,EAAc,YAAWZ,EAAK,GAAKzE,GAC/B0E,GACFc,EAAaxF,IAGjB0D,MAAM,OACN0E,WAAYtD,EACZyE,SAAUnF,EAAOwB,SAASnB,EAAK,KAAOzE,EAEtCqI,OAAQ,CAENJ,IAAIZ,EAAAA,EAAAA,IAAW,cAAe,gBAEhCmC,QAAS,CACPvB,GAAI,gBAGLe,UAOZtE,GACC,gBAAC0C,EAAA,WAAD,CAAcqC,QAAQ,IAAI/F,MAAM,IAAIgG,OAAO,IAAIC,SAAS,SAAS/I,IAAK0E,GACpE,gBAACsE,EAAA,EAAD,CAAWC,SAAS,KAAKC,IAAK5E,EAAM0C,GAAE,WAAa5C,O,uCCjKvD+E,EAAW,SAACtH,GAAD,OAAS,IAAIuH,SAAQ,SAAC/D,GACrC,IAAMgE,EAAM,IAAIC,MAChBD,EAAIE,OAAS,kBAAMtD,WAAWZ,IAjBN,WACxB,IAAImE,EAAYC,SAASC,eAAe,sBAWxC,OAVKF,KACHA,EAAYC,SAASE,cAAc,QACzBC,aAAa,KAAM,sBAC7BJ,EAAUK,MAAMC,SAAW,WAC3BN,EAAUK,MAAME,IAAM,UACtBP,EAAUK,MAAMG,KAAO,UACvBR,EAAUK,MAAMI,OAAS,OACzBT,EAAUK,MAAM/G,MAAQ,MACxB2G,SAASS,KAAKC,YAAYX,IAErBA,EAMWY,GACRD,YAAYd,GACtBA,EAAIxH,IAAMI,GAAAA,CAAQJ,IAAOwI,EAAAA,EAAAA,GAASxI,IAAQA,MAAAA,OAAA,EAAAA,EAAKyI,UAAWzI,MAiB5D,EAde,SAACkB,GACd,GAAId,GAAAA,CAAQc,GAAS,CACnB,IAAMwH,EAAQC,GAAAA,CAAMzH,EAAO0H,OAAOC,SAAU,GAC5C,OAAIH,EAAMjL,OAAS,EACViL,EAAMnF,QAAO,SAACuF,EAAMC,GACzB,OAAOD,EAAKE,MAAK,kBAAMzB,QAAQ0B,IAAIF,EAAOzI,IAAIgH,SAC7CC,QAAQ2B,WAEJ3B,QAAQ0B,IAAI/H,EAAOZ,IAAIgH,IAGlC,OAAOA,EAASpG,ICvBZiI,IAAeC,EAAAA,EAAAA,GAAOC,EAAAA,EAAPD,CAAH,yaA0HlB,GAtGU,SAAC,GAA2B,IAAzBtH,EAAwB,EAAxBA,KACHE,EAD2B,EAAlBD,YACTC,GACAvE,EAAWqE,EAAKwH,iBAAiBC,MAAjC9L,OACF+L,EAAWxH,EAAK,EACdL,GAAWgB,EAAAA,EAAAA,MAAXhB,OAEF8H,GAAazG,EAAAA,EAAAA,cAAY,SAACzF,GAC9B6G,YAAW,YAETsF,EAAAA,EAAAA,UAAS,OAAMnM,EAAI,MAClB,OACF,IACGoM,GAAa3G,EAAAA,EAAAA,cAAY,SAACzF,IAE9BmM,EAAAA,EAAAA,UAAS,MAAMnM,KACd,KACH4G,EAAAA,EAAAA,YAAU,WACRyF,EAAY1I,EAAAA,MAAa,MACxB,IACH,IAAM2I,GAAiB1J,EAAAA,EAAAA,UAAQ,kBAAMwB,EAAOwB,QAAQ1F,OAASuE,EAAK,IAAG,CAACA,EAAIL,EAAOwB,QAAQ1F,UAYzF0G,EAAAA,EAAAA,YAAU,WACJ0F,GACE,QAAQC,KAAKC,OAAOC,SAASC,YAC/BP,EAAAA,EAAAA,UAAS,OAGZ,CAACG,IA0BJ,IAAMK,GAAW/J,EAAAA,EAAAA,UAAQ,kBACvB2B,EAAKwH,iBAAiBC,MAAMjJ,KAAI,SAAC6J,EAAG5M,GAAJ,OAAUA,IAAMiM,GAC9C,gBAAC,KAAD,CAAKhE,GAAG,QAAQ7H,IAAKwM,EAAEnI,GAAIoI,GAAG,WAC5B,gBAAC,EAAD,CACEtI,KAAMqI,EACNjI,OAAQ,kBAAMuH,EAAWlM,IACzB4E,OAAQ,kBAAMwH,EAAWpM,IACzBwE,YAAa,CAAEC,GAAImI,EAAEnI,GAAIvE,OAAAA,EAAQwE,OAAQ1E,IAAME,EAAS,WAI7D,CAAC+L,EAAU1H,EAAKwH,iBAAiBC,MAAOE,EAAYE,EAAYlM,IACnE,OAAIoM,EAAuB,KAGzB,gBAACV,GAAD,CACE3D,GAAG,QACH6E,MAAK,KAAMb,EAAW,GAAjB,IACLc,YAAa,CAEXC,UAAU3F,EAAAA,EAAAA,IAAW,OAAQ,SAC7B4F,GAAI,OACJC,GAAI,MACJxC,SAAU,SACVE,KAAM,MACNuC,UAAW,OACXC,OAAQ,OAEVC,YAAa,CACX1E,GAAI,UAGN,gBAAC2E,EAAA,EAAD,CAAWC,UAAU,eAAe7D,QAAQrC,EAAAA,EAAAA,IAAW,OAAQ,QAAS2F,UAAU3F,EAAAA,EAAAA,IAAW,OAAQ,SAAUyB,GAAG,MAAM+D,GAAG,KACxHF,M,iBCrGTa,EAAOC,QArBP,SAAmBC,EAAOC,EAAOC,GAC/B,IAAIC,GAAS,EACT3N,EAASwN,EAAMxN,OAEfyN,EAAQ,IACVA,GAASA,EAAQzN,EAAS,EAAKA,EAASyN,IAE1CC,EAAMA,EAAM1N,EAASA,EAAS0N,GACpB,IACRA,GAAO1N,GAETA,EAASyN,EAAQC,EAAM,EAAMA,EAAMD,IAAW,EAC9CA,KAAW,EAGX,IADA,IAAIG,EAASC,MAAM7N,KACV2N,EAAQ3N,GACf4N,EAAOD,GAASH,EAAMG,EAAQF,GAEhC,OAAOG,I,qBC3BT,IAAIE,EAAY,EAAQ,MACpBC,EAAiB,EAAQ,MACzBC,EAAY,EAAQ,KAGpBC,EAAa1H,KAAK2H,KAClBC,EAAY5H,KAAK6H,IA2CrBd,EAAOC,QApBP,SAAeC,EAAOa,EAAMC,GAExBD,GADGC,EAAQP,EAAeP,EAAOa,EAAMC,QAAkB5M,IAAT2M,GACzC,EAEAF,EAAUH,EAAUK,GAAO,GAEpC,IAAIrO,EAAkB,MAATwN,EAAgB,EAAIA,EAAMxN,OACvC,IAAKA,GAAUqO,EAAO,EACpB,MAAO,GAMT,IAJA,IAAIV,EAAQ,EACRY,EAAW,EACXX,EAASC,MAAMI,EAAWjO,EAASqO,IAEhCV,EAAQ3N,GACb4N,EAAOW,KAAcT,EAAUN,EAAOG,EAAQA,GAASU,GAEzD,OAAOT,I,gBC3BTN,EAAOC,QALP,SAAcC,GACZ,IAAIxN,EAAkB,MAATwN,EAAgB,EAAIA,EAAMxN,OACvC,OAAOA,EAASwN,EAAMxN,EAAS,QAAK0B,I,oBChBtC,IAAI8M,EAAW,EAAQ,MAmCvBlB,EAAOC,QAPP,SAAmBkB,GACjB,IAAIb,EAASY,EAASC,GAClBC,EAAYd,EAAS,EAEzB,OAAOA,GAAWA,EAAUc,EAAYd,EAASc,EAAYd,EAAU,I,kCChCzE,IAAe,IAA0B,kD,kCCAzC,IAAe,IAA0B,mD,kCCAzC,IAAe,IAA0B,kD,kCCAzC,IAAe,IAA0B,mD,kCCAzC,IAAe,IAA0B,kD,kCCAzC,IAAe,IAA0B,mD,kCCAzC,IAAe,IAA0B,kD,kCCAzC,IAAe,IAA0B,mD,iCCAzC,IAAe,IAA0B,kD,kCCAzC,IAAe,IAA0B,mD,kCCAzC,IAAe,IAA0B,kD,kCCAzC,IAAe,IAA0B,mD","sources":["webpack://styled-gatsby-starter/./node_modules/@chakra-ui/button/dist/esm/icon-button.js","webpack://styled-gatsby-starter/./src/components/Image.js","webpack://styled-gatsby-starter/./src/templates/question.js","webpack://styled-gatsby-starter/./src/containers/imageLoader.js","webpack://styled-gatsby-starter/./src/templates/q.js","webpack://styled-gatsby-starter/./node_modules/lodash/_baseSlice.js","webpack://styled-gatsby-starter/./node_modules/lodash/chunk.js","webpack://styled-gatsby-starter/./node_modules/lodash/last.js","webpack://styled-gatsby-starter/./node_modules/lodash/toInteger.js","webpack://styled-gatsby-starter/./src/image/q1.png","webpack://styled-gatsby-starter/./src/image/q1.webp","webpack://styled-gatsby-starter/./src/image/q2.png","webpack://styled-gatsby-starter/./src/image/q2.webp","webpack://styled-gatsby-starter/./src/image/q3.png","webpack://styled-gatsby-starter/./src/image/q3.webp","webpack://styled-gatsby-starter/./src/image/q4.png","webpack://styled-gatsby-starter/./src/image/q4.webp","webpack://styled-gatsby-starter/./src/image/q5.png","webpack://styled-gatsby-starter/./src/image/q5.webp","webpack://styled-gatsby-starter/./src/image/q6.png","webpack://styled-gatsby-starter/./src/image/q6.webp"],"sourcesContent":["function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { forwardRef } from \"@chakra-ui/system\";\nimport { __DEV__ } from \"@chakra-ui/utils\";\nimport * as React from \"react\";\nimport { Button } from \"./button\";\nexport var IconButton = /*#__PURE__*/forwardRef(function (props, ref) {\n  var icon = props.icon,\n      children = props.children,\n      isRound = props.isRound,\n      ariaLabel = props[\"aria-label\"],\n      rest = _objectWithoutPropertiesLoose(props, [\"icon\", \"children\", \"isRound\", \"aria-label\"]);\n  /**\n   * Passing the icon as prop or children should work\n   */\n\n\n  var element = icon || children;\n\n  var _children = /*#__PURE__*/React.isValidElement(element) ? /*#__PURE__*/React.cloneElement(element, {\n    \"aria-hidden\": true,\n    focusable: false\n  }) : null;\n\n  return /*#__PURE__*/React.createElement(Button, _extends({\n    padding: \"0\",\n    borderRadius: isRound ? \"full\" : undefined,\n    ref: ref,\n    \"aria-label\": ariaLabel\n  }, rest), _children);\n});\n\nif (__DEV__) {\n  IconButton.displayName = \"IconButton\";\n}","import React, { useMemo, forwardRef } from 'react'\nimport isArray from 'lodash/isArray'\nimport last from 'lodash/last'\nimport { Image } from \"@chakra-ui/react\";\n\nconst mimeTypes = {\n  gif: 'image/gif',\n  jpeg: 'image/jpeg',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  tiff: 'image/tiff',\n  tif: 'image/tiff',\n  webp: 'image/webp',\n}\n\nconst base64Mime = /data:(\\w+\\/\\w+);base64/\n\nconst ReImage = forwardRef(({ src, alt, ...props }, ref) => {\n  const pic = useMemo(() => {\n    if (!isArray(src)) return null\n    const sources = src.map((srcSet) => {\n      const mime = base64Mime.exec(srcSet)\n      const type = mime ? mime[1] : mimeTypes[last(srcSet.split('.'))]\n      return {\n        srcSet,\n        type,\n      }\n    })\n    return {\n      sources,\n      fallback: last(src),\n    }\n  }, [src])\n  if (isArray(src)) {\n    return (\n      <Image as=\"picture\"{...props} ref={ref}>\n        {pic.sources.map((s, i) => <source key={i} {...s} />)}\n        <img src={pic.fallback} alt={alt} />\n      </Image>\n    )\n  }\n\n  return <Image src={src} alt={alt} {...props} ref={ref} />\n})\n\nReImage.defaultProps = {\n  width: '100%',\n};\n\nReImage.displayName = 'Image';\n\nexport default ReImage;\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport { Link } from 'gatsby'\nimport { useFormikContext } from 'formik';\nimport { FiArrowLeft } from \"react-icons/fi\";\nimport { IconButton, useToken, Icon, AspectRatio } from '@chakra-ui/react'\nimport { max } from 'lodash';\nimport { StaticImage } from 'gatsby-plugin-image';\nimport { motion } from 'framer-motion';\n\nimport Image from '../components/Image'\nimport Box from '../components/Box'\nimport Text from '../components/Text'\nimport Flex from '../components/Flex'\nimport Button from '../components/Button'\nimport BackgroundImage from '../components/BackgroundImage'\nimport { responsive } from '../components/ThemeProvider/theme';\n\nimport { trackAnswer } from '../utils/trackEvent';\nimport score from '../json/score';\nimport PaintLink from '../components/PaintLink';\n\nexport const images = [\n  [require('../image/q1.webp').default, require('../image/q1.png').default],\n  [require('../image/q2.webp').default, require('../image/q2.png').default],\n  [require('../image/q3.webp').default, require('../image/q3.png').default],\n  [require('../image/q4.webp').default, require('../image/q4.png').default],\n  [require('../image/q5.webp').default, require('../image/q5.png').default],\n  [require('../image/q6.webp').default, require('../image/q6.png').default],\n]\n\nconst layout = 'fullWidth'\nconst placeHolder = 'dominantColor'\nconst loading = 'lazy'\n\nconst picture = {\n  1: <StaticImage alt=\"Q1\" src=\"../image/q1.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n  2: <AspectRatio ratio={768 / 599}><Image alt=\"Q2\" src={images[1]} /></AspectRatio>,\n  3: <AspectRatio ratio={768 / 599}><Image alt=\"Q3\" src={images[2]} /></AspectRatio>,\n  4: <AspectRatio ratio={768 / 599}><Image alt=\"Q4\" src={images[3]} /></AspectRatio>,\n  5: <AspectRatio ratio={768 / 599}><Image alt=\"Q5\" src={images[4]} /></AspectRatio>,\n  6: <AspectRatio ratio={768 / 599}><Image alt=\"Q6\" src={images[5]} /></AspectRatio>,\n}\n\n// const picture = {\n//   1: <StaticImage alt=\"Q1\" src=\"../image/q1.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n//   2: <StaticImage alt=\"Q2\" src=\"../image/q2.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n//   3: <StaticImage alt=\"Q3\" src=\"../image/q3.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n//   4: <StaticImage alt=\"Q4\" src=\"../image/q4.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n//   5: <StaticImage alt=\"Q5\" src=\"../image/q5.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n//   6: <StaticImage alt=\"Q6\" src=\"../image/q6.png\" layout={layout} loading={loading} placeholder={placeHolder} />,\n// }\n\nconst calculateScore = Object.values(score)\nconst citys = Object.keys(score)\n\nconst Question = ({ data, pageContext: { id, isLast, length }, onNext, onPrev }) => {\n  const [isSubmitting, setSubmitting] = useState()\n  const [resCity, setCity] = useState()\n  const [teal] = useToken('colors', ['custom.teal'])\n  const { values, setFieldValue } = useFormikContext()\n  const resLinkRef = useRef()\n  const handleSubmit = useCallback((lastAnswer) => {\n    const allAnswers = values.answers.slice(0, 5).concat(lastAnswer)\n    setSubmitting(true)\n    const totolPoints = calculateScore.reduce((res, scores) => {\n      const point = scores.reduce((total, num, i) => {\n        total = total + (num[allAnswers[i]] || +'0')\n        return total\n      }, 0)\n      res.push(point)\n      return res\n    },[])\n    const cityIndexs = totolPoints.reduce((res, num, i) => {\n      if (num === max(totolPoints)) {\n        res.push(i)\n      }\n      return res\n    }, [])\n    const city = citys[cityIndexs[Math.floor(Math.random()*cityIndexs.length)]]\n    setFieldValue('points', max(totolPoints))\n    setCity(city)\n  }, [values, setFieldValue])\n  useEffect(() => {\n    if (resCity) {\n      setTimeout(() => {\n        if (resLinkRef.current) {\n          resLinkRef.current.querySelector('a').click()\n        }\n      })\n    }\n  }, [resCity])\n  return (\n    <>\n      <Flex alignItems=\"flex-end\" justifyContent=\"space-around\">\n        <Box width={responsive('100%', '442px')}>\n          <Flex\n            pb=\"0.25em\"\n            alignItems=\"center\"\n            justify=\"space-between\"\n            borderBottom=\"1px solid\"\n            borderColor=\"custom.borderGray\"\n          >\n            <IconButton\n              as={id === '1' && (p => <Link to=\"/\" {...p} />)}\n              w=\"1.5em\"\n              h=\"1.5em\"\n              mr=\"0.25em\"\n              minWidth=\"auto\"\n              bg=\"transparent\"\n              color=\"custom.darkBlue\"\n              icon={<Icon as={FiArrowLeft} w={6} h={6} />}\n              isDisabled={isSubmitting}\n              _hover={{\n                bg: 'transparent'\n              }}\n              onClick={() => {\n                if (id !== '1') {\n                  onPrev()\n                }\n              }}\n            />\n            <Text\n              fontSize=\"1.5rem\"\n              letterSpacing=\"0.125em\"\n              fontFamily=\"Flama\"\n              color=\"lightGray\"\n            >\n              <Text.Inline color=\"gray\">{id}</Text.Inline>/{length}\n            </Text>\n          </Flex>\n          <Text\n            mt=\"0.5em\"\n            fontWeight=\"500\"\n            color=\"custom.darkBlue\"\n            fontSize=\"1.125em\"\n          >{data.question}</Text>\n          <Box pt={responsive('1em', '3em')}>\n            {picture[id]}\n          </Box>\n          <Box>\n            {data.options.map((opt, i) => (\n              <Box\n                as={motion.div}\n                whileTap={{ scale: 1.1 }}\n                mt={i && '1em'}\n                key={i}\n              >\n                <Button\n                  // as={!isLast && ((p) => <Link {...p} to={`/q/${+id + 1}`} />)}\n                  onClick={(e) => {\n                    if (!isLast) {\n                      onNext()\n                    }\n                    trackAnswer(id, i)\n                    setFieldValue(`answers.${id - 1}`, i)\n                    if (isLast) {\n                      handleSubmit(i)\n                    }\n                  }}\n                  width=\"100%\"\n                  isDisabled={isSubmitting}\n                  isActive={values.answers[+id - 1] === i}\n                  // bg={values.answers[+id - 1] === i ? 'custom.teal' : 'custom.gray'}\n                  _hover={{\n                    // bg: id === '1' ? responsive('custom.gray', 'custom.teal') : 'custom.teal',\n                    bg: responsive('custom.gray', 'custom.teal'),\n                  }}\n                  _active={{\n                    bg: 'custom.teal',\n                  }}\n                >\n                  {opt}\n                </Button>\n              </Box>\n            ))}\n          </Box>\n        </Box>\n      </Flex>\n      {isLast && (\n        <Box.Absolute opacity=\"0\" width=\"0\" height=\"0\" overflow=\"hidden\" ref={resLinkRef}>\n          <PaintLink tabIndex=\"-1\" hex={teal} to={`/result/${resCity}`} />\n        </Box.Absolute>\n      )}\n    </>\n  )\n}\n\nexport default Question\n\n","import isArray from 'lodash/isArray';\r\nimport chunk from 'lodash/chunk';\r\nimport { getImage } from '../components/utils/useWebpImage';\r\n\r\nconst getImageContainer = () => {\r\n  let container = document.getElementById('re-image-preloader');\r\n  if (!container) {\r\n    container = document.createElement('div');\r\n    container.setAttribute('id', 're-image-preloader');\r\n    container.style.position = 'absolute';\r\n    container.style.top = '-9999px';\r\n    container.style.left = '-9999px';\r\n    container.style.zIndex = '-999';\r\n    container.style.width = '1px';\r\n    document.body.appendChild(container);\r\n  }\r\n  return container;\r\n}\r\n\r\nconst loadTask = (src) => new Promise((res) => {\r\n  const img = new Image();\r\n  img.onload = () => setTimeout(res);\r\n  const container = getImageContainer();\r\n  container.appendChild(img);\r\n  img.src = isArray(src) ? getImage(src) : (src?.default || src);\r\n});\r\n\r\nconst loader = (images) => {\r\n  if (isArray(images)) {\r\n    const queue = chunk(images.filter(Boolean), 6);\r\n    if (queue.length > 1) {\r\n      return queue.reduce((prev, chunks) => {\r\n        return prev.then(() => Promise.all(chunks.map(loadTask)));\r\n      }, Promise.resolve());\r\n    } else {\r\n      return Promise.all(images.map(loadTask));\r\n    }\r\n  }\r\n  return loadTask(images);\r\n}\r\n\r\nexport default loader\r\n","import { graphql, navigate, withPrefix } from 'gatsby'\nimport React, { useCallback, useEffect, useState, useRef, useMemo } from 'react'\n// import Slider from 'react-slick';\n// import 'slick-carousel/slick/slick.css';\n// import 'slick-carousel/slick/slick-theme.css';\nimport { Box } from '@chakra-ui/react';\nimport { useFormikContext } from 'formik';\nimport styled from '@emotion/styled';\n\nimport Layout from '../containers/Layout'\nimport Question, { images } from './question'\nimport Container from '../components/Container';\nimport { responsive } from '../components/ThemeProvider/theme';\nimport imageLoader from '../containers/imageLoader'\n\nconst StyledLayout = styled(Layout)`\n@media (min-height: 680px) and (min-width: 784px) {\n  .footer {\n    padding-top: 0px;\n    padding-bottom: 0px;\n    position: absolute;\n    transform: translateX(-50%);\n    background: transparent;\n  }\n}\n@media (min-height: 811px) and (min-width: 768px) {\n  height: 812px;\n}\n@media (min-height: 680px) and (max-width: 784px) {\n  .main-wrapper {\n    height: calc(100% - 57.25px);\n  }\n}\n`\n\nconst Q = ({ data, pageContext }) => {\n  const { id } = pageContext\n  const { length } = data.allQuestionsJson.nodes\n  const curentId = id - 1\n  const { values } = useFormikContext()\n\n  const handleNext = useCallback((i) => {\n    setTimeout(() => {\n      // slickRef.current.slickGoTo(i + 1)\n      navigate(`/q/${i + 2}`)\n    }, 300)\n  }, [])\n  const handlePrev = useCallback((i) => {\n    // slickRef.current.slickGoTo(i - 1)\n    navigate(`/q/${i}`)\n  }, [])\n  useEffect(() => {\n    imageLoader(images.slice(1))\n  }, [])\n  const answerNotMatch = useMemo(() => values.answers.length < id - 1, [id, values.answers.length])\n  // useEffect(() => {\n  //   if (loaded.current) {\n  //     const pathname = withPrefix(`/q/${curentId + 1}`)\n  //     window.history.pushState(null, null, pathname)\n  //     if (window.gtag) {\n  //       window.gtag(`event`, `page_view`, { page_path: pathname })\n  //     }\n  //   }\n  //   loaded.current = true\n  // }, [curentId])\n\n  useEffect(() => {\n    if (answerNotMatch) {\n      if (/\\/q\\//.test(window.location.pathname)) {\n        navigate('/')\n      }\n    }\n  }, [answerNotMatch])\n\n  // const contents = useMemo(() => (\n  //   <Slider\n  //     accessibility={false}\n  //     arrows={false}\n  //     dots={false}\n  //     infinite={false}\n  //     touchMove={false}\n  //     draggable={false}\n  //     ref={slickRef}\n  //     speed={1000}\n  //     initialSlide={curentId}\n  //   >\n  //     {data.allQuestionsJson.nodes.map((d, i) => (\n  //       <Box bg=\"white\" key={d.id} px=\"1.875em\">\n  //         <Question\n  //           data={d}\n  //           onNext={() => handleNext(i)}\n  //           onPrev={() => handlePrev(i)}\n  //           pageContext={{ id: d.id, length, isLast: i === length - 1 }}\n  //         />\n  //       </Box>\n  //     ))}\n  //   </Slider>\n  // ), [data.allQuestionsJson.nodes, handleNext, handlePrev, length])\n  const contents = useMemo(() => (\n    data.allQuestionsJson.nodes.map((d, i) => i === curentId && (\n      <Box bg=\"white\" key={d.id} px=\"1.875em\">\n        <Question\n          data={d}\n          onNext={() => handleNext(i)}\n          onPrev={() => handlePrev(i)}\n          pageContext={{ id: d.id, length, isLast: i === length - 1 }}\n        />\n      </Box>\n    ))\n  ), [curentId, data.allQuestionsJson.nodes, handleNext, handlePrev, length])\n  if (answerNotMatch) return null\n\n  return (\n    <StyledLayout\n      bg=\"white\"\n      title={`第${curentId + 1}題`}\n      footerProps={{\n        // bg: responsive('transparent', height > 630 ? 'transparent' : 'white'),\n        maxWidth: responsive('auto', '375px'),\n        mx: 'auto',\n        py: '1em',\n        position: 'static',\n        left: '50%',\n        transform: 'none',\n        bottom: '2em',\n      }}\n      headerProps={{\n        mt: \"1.5em\"\n      }}\n    >\n      <Container className=\"main-wrapper\" height={responsive('auto', '100%')} maxWidth={responsive('auto', '375px')} pt=\"1em\" px=\"0\">\n        {contents}\n      </Container>\n    </StyledLayout>\n  )\n}\n\nexport default Q\n\nexport const query = graphql`\n  query QuestionPageQuery {\n    allQuestionsJson {\n      nodes {\n        id\n        question\n        options\n      }\n    }\n  }\n`\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","export default __webpack_public_path__ + \"static/q1-3e71a224d73c0352eb91da0ead4030fa.png\";","export default __webpack_public_path__ + \"static/q1-7edf4f7f589f5f64e54c334bea9da334.webp\";","export default __webpack_public_path__ + \"static/q2-9e4a70df4fb8521fd55de4472dd4f9e2.png\";","export default __webpack_public_path__ + \"static/q2-b1f010be93b22bdbaf7eb0b78636eb0e.webp\";","export default __webpack_public_path__ + \"static/q3-9f7dd3f95f56311033d9df3b3137f031.png\";","export default __webpack_public_path__ + \"static/q3-dbab83a7db34c9eeb40239a85946e27f.webp\";","export default __webpack_public_path__ + \"static/q4-82f54154d7b5814e39e94d2fd1639fda.png\";","export default __webpack_public_path__ + \"static/q4-1e8492f09d964ce7fa6fb7d730682fc4.webp\";","export default __webpack_public_path__ + \"static/q5-b10e4f8b617da320517c82314132251f.png\";","export default __webpack_public_path__ + \"static/q5-5b398bfcda23287ef7739f334f1a1691.webp\";","export default __webpack_public_path__ + \"static/q6-c136f39d28d603ac911aa53083a0acb5.png\";","export default __webpack_public_path__ + \"static/q6-a466b7699907abd2693febf300f9aca4.webp\";"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","IconButton","props","ref","icon","children","isRound","ariaLabel","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","element","_children","focusable","padding","borderRadius","undefined","displayName","mimeTypes","gif","jpeg","jpg","png","tiff","tif","webp","base64Mime","ReImage","forwardRef","src","alt","pic","useMemo","isArray","sources","map","srcSet","mime","exec","type","last","split","fallback","as","s","defaultProps","width","images","require","picture","S","layout","loading","placeholder","ratio","calculateScore","values","score","citys","data","pageContext","id","isLast","onNext","onPrev","useState","isSubmitting","setSubmitting","resCity","setCity","teal","useToken","useFormikContext","setFieldValue","resLinkRef","useRef","handleSubmit","useCallback","lastAnswer","allAnswers","answers","slice","concat","totolPoints","reduce","res","scores","point","total","num","push","cityIndexs","city","Math","floor","random","useEffect","setTimeout","current","querySelector","click","Flex","alignItems","justifyContent","Box","responsive","pb","justify","borderBottom","borderColor","p","Link","to","w","h","mr","minWidth","bg","color","FiArrowLeft","isDisabled","_hover","onClick","Text","fontSize","letterSpacing","fontFamily","mt","fontWeight","question","pt","options","opt","motion","whileTap","scale","Button","e","trackAnswer","isActive","_active","opacity","height","overflow","PaintLink","tabIndex","hex","loadTask","Promise","img","Image","onload","container","document","getElementById","createElement","setAttribute","style","position","top","left","zIndex","body","appendChild","getImageContainer","getImage","default","queue","chunk","filter","Boolean","prev","chunks","then","all","resolve","StyledLayout","styled","Layout","allQuestionsJson","nodes","curentId","handleNext","navigate","handlePrev","imageLoader","answerNotMatch","test","window","location","pathname","contents","d","px","title","footerProps","maxWidth","mx","py","transform","bottom","headerProps","Container","className","module","exports","array","start","end","index","result","Array","baseSlice","isIterateeCall","toInteger","nativeCeil","ceil","nativeMax","max","size","guard","resIndex","toFinite","value","remainder"],"sourceRoot":""}