(self.webpackChunkstyled_gatsby_starter=self.webpackChunkstyled_gatsby_starter||[]).push([[171],{918:function(e,t,n){"use strict";var a=n(7294),r=n(9947);t.Z=function(e,t,n){if(!r.jU)return[t,function(){}];var i=(0,a.useState)((function(){try{var a=sessionStorage.getItem(e);return"string"!=typeof a?(sessionStorage.setItem(e,n?String(t):JSON.stringify(t)),t):n?a:JSON.parse(a||"null")}catch(i){return t}})),o=i[0],c=i[1];return(0,a.useEffect)((function(){try{var t=n?String(o):JSON.stringify(o);sessionStorage.setItem(e,t)}catch(i){}})),[o,c]}},8123:function(e,t,n){"use strict";var a=n(1469),r=n.n(a),i=n(8400),o=n.n(i),c=n(8020),s=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return setTimeout(t)},function(){var e=document.getElementById("re-image-preloader");return e||((e=document.createElement("div")).setAttribute("id","re-image-preloader"),e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e.style.zIndex="-999",e.style.width="1px",document.body.appendChild(e)),e}().appendChild(n),n.src=r()(e)?(0,c.g)(e):(null==e?void 0:e.default)||e}))};t.Z=function(e){if(r()(e)){var t=o()(e.filter(Boolean),6);return t.length>1?t.reduce((function(e,t){return e.then((function(){return Promise.all(t.map(s))}))}),Promise.resolve()):Promise.all(e.map(s))}return s(e)}},565:function(e,t,n){"use strict";n.r(t);var a,r=n(1401),i=n(5444),o=n(7294),c=n(7690),s=n(5708),u=n(494),l=n(918),f=n(1779),m=n(4757),d=n(6810),p=n(4774),g=n(8123),b=(0,u.Z)(f.Z)(a||(a=(0,r.Z)(["\n@media (min-height: 640px) and (min-width: 784px) {\n  .footer {\n    padding-top: 0px;\n    padding-bottom: 0px;\n    position: absolute;\n    transform: translateX(-50%);\n    background: transparent;\n  }\n}\n@media (max-height: 639px) {\n  .footer {\n    padding-top: 2em;\n    padding-bottom: 2em;\n  }\n}\n@media (min-height: 811px) and (min-width: 784px) {\n  height: 812px;\n}\n@media (min-height: 640px) and (max-width: 784px) {\n  .main-wrapper {\n    height: calc(100% - 56px);\n  }\n}\n@media (max-height: 639px) and (min-width: 784px) {\n  .main-wrapper {\n    height: auto;\n  }\n}\n"])));t.default=function(e){var t=e.data,n=e.pageContext.id,a=t.allQuestionsJson.nodes.length,r=n-1,u=(0,s.u6)().values,f=(0,l.Z)("view-home")[0],h=(0,o.useCallback)((function(e){setTimeout((function(){(0,i.navigate)("/q/"+(e+2))}),300)}),[]),v=(0,o.useCallback)((function(e){(0,i.navigate)("/q/"+e)}),[]);(0,o.useEffect)((function(){n<6&&(0,g.Z)([m.W[+n]])}),[n]);var E=(0,o.useMemo)((function(){return u.answers.length<n-1}),[n,u.answers.length]);(0,o.useEffect)((function(){!E&&f||/\/q\//.test(window.location.pathname)&&(0,i.navigate)("/")}),[E,f]);var Z=(0,o.useMemo)((function(){return t.allQuestionsJson.nodes.map((function(e,t){return t===r&&o.createElement(c.xu,{bg:"white",key:e.id,px:"1.875em"},o.createElement(m.Z,{data:e,onNext:function(){return h(t)},onPrev:function(){return v(t)},pageContext:{id:e.id,length:a,isLast:t===a-1}}))}))}),[r,t.allQuestionsJson.nodes,h,v,a]);return E||!f?null:o.createElement(b,{bg:"white",title:"第"+(r+1)+"題",footerProps:{bg:"white",maxWidth:(0,p.jW)("auto","375px"),mx:"auto",position:"static",left:"50%",transform:"none",bottom:"2em",pb:"2em"}},o.createElement(d.Z,{className:"main-wrapper",height:(0,p.jW)("auto","100%"),maxWidth:(0,p.jW)("auto","375px"),pt:"1em",px:"0"},Z))}},4757:function(e,t,n){"use strict";n.d(t,{Z:function(){return z},W:function(){return _}});var a=n(6162),r=n.n(a),i=n(7294),o=n(5444),c=n(5708),s=n(3750),u=n(2543),l=n(4667),f=n(7242);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var d=(0,u.G)((function(e,t){var n=e.icon,a=e.children,r=e.isRound,o=e["aria-label"],c=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["icon","children","isRound","aria-label"]),s=n||a,u=i.isValidElement(s)?i.cloneElement(s,{"aria-hidden":!0,focusable:!1}):null;return i.createElement(f.z,m({padding:"0",borderRadius:r?"full":void 0,ref:t,"aria-label":o},c),u)}));l.Ts&&(d.displayName="IconButton");var p=n(5230),g=n(2437),b=n(132),h=n(466),v=n(1531),E=n(1469),Z=n.n(E),w=n(928),x=n.n(w),y=n(6767),k=["src","alt"],j={gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tiff:"image/tiff",tif:"image/tiff",webp:"image/webp"},q=/data:(\w+\/\w+);base64/,S=(0,i.forwardRef)((function(e,t){var n=e.src,a=e.alt,r=(0,v.Z)(e,k),o=(0,i.useMemo)((function(){return Z()(n)?{sources:n.map((function(e){var t=q.exec(e),n=t?t[1]:j[x()(e.split("."))];return{srcSet:e,type:n}})),fallback:x()(n)}:null}),[n]);return Z()(n)?i.createElement(y.E,Object.assign({as:"picture"},r,{ref:t}),o.sources.map((function(e,t){return i.createElement("source",Object.assign({key:t},e))})),i.createElement("img",{src:o.fallback,alt:a})):i.createElement(y.E,Object.assign({src:n,alt:a},r,{ref:t}))}));S.defaultProps={width:"100%"},S.displayName="Image";var O=S,C=n(3941),I=n(9370),W=n(3347),N=n(8126),P=n(4774),Q=n(545),J=JSON.parse('{"istanbul":[[12,20,0],[12,0,8],[20,12,0],[16,0,8],[20,0,4],[20,8,0]],"hawaii":[[16,0,8],[16,0,12],[20,4,0],[4,0,16],[8,4,20],[20,12,0]],"ibiza":[[12,0,16],[12,0,4],[20,8,0],[12,0,20],[16,4,8],[16,12,0]],"amsterdam":[[0,16,8],[0,4,12],[0,20,8],[8,20,4],[0,16,8],[12,20,0]],"nice":[[8,0,16],[0,8,16],[8,16,0],[0,16,12],[0,12,20],[16,8,0]],"iceland":[[8,16,4],[0,16,4],[0,8,20],[16,8,0],[20,8,0],[0,8,20]],"moscow":[[20,12,0],[20,8,0],[12,8,4],[20,0,4],[20,0,8],[4,0,20]],"stockholm":[[4,12,8],[4,16,8],[8,16,4],[20,0,4],[0,4,20],[4,20,8]],"munich":[[8,20,0],[0,20,4],[0,16,8],[12,20,4],[8,12,0],[0,16,12]],"nyc":[[20,4,0],[16,12,0],[4,8,20],[12,0,4],[20,0,8],[12,0,20]]}'),M=n(7364),_=[[n(8487).Z,n(8895).Z],[n(3286).Z,n(4478).Z],[n(7598).Z,n(6078).Z],[n(7879).Z,n(7383).Z],[n(1865).Z,n(896).Z],[n(4205).Z,n(7381).Z]],A={1:i.createElement(g.o,{ratio:768/599},i.createElement(O,{alt:"Q1",src:_[0]})),2:i.createElement(g.o,{ratio:768/599},i.createElement(O,{alt:"Q2",src:_[1]})),3:i.createElement(g.o,{ratio:768/599},i.createElement(O,{alt:"Q3",src:_[2]})),4:i.createElement(g.o,{ratio:768/599},i.createElement(O,{alt:"Q4",src:_[3]})),5:i.createElement(g.o,{ratio:768/599},i.createElement(O,{alt:"Q5",src:_[4]})),6:i.createElement(g.o,{ratio:768/599},i.createElement(O,{alt:"Q6",src:_[5]}))},B=Object.values(J),T=Object.keys(J),z=function(e){var t=e.data,n=e.pageContext,a=n.id,u=n.isLast,l=n.length,f=e.onNext,m=e.onPrev,g=(0,i.useState)(),v=g[0],E=g[1],Z=(0,i.useState)(),w=Z[0],x=Z[1],y=(0,p.useToken)("colors",["custom.teal"])[0],k=(0,c.u6)(),j=k.values,q=k.setFieldValue,S=(0,i.useRef)(),O=(0,i.useCallback)((function(e){var t=j.answers.slice(0,5).concat(e);E(!0);var n=B.reduce((function(e,n){var a=n.reduce((function(e,n,a){return e+=n[t[a]]||0}),0);return e.push(a),e}),[]),a=n.reduce((function(e,t,a){return t===r()(n)&&e.push(a),e}),[]),i=T[a[Math.floor(Math.random()*a.length)]];q("points",r()(n)),x(i)}),[j,q]);return(0,i.useEffect)((function(){w&&setTimeout((function(){S.current&&S.current.querySelector("a").click()}))}),[w]),i.createElement(i.Fragment,null,i.createElement(W.Z,{alignItems:"flex-end",justifyContent:"space-around"},i.createElement(C.Z,{width:(0,P.jW)("100%","442px")},i.createElement(W.Z,{pb:"0.25em",alignItems:"center",justify:"space-between",borderBottom:"1px solid",borderColor:"custom.borderGray"},i.createElement(d,{as:"1"===a&&function(e){return i.createElement(o.Link,Object.assign({to:"/"},e))},w:"1.5em",h:"1.5em",mr:"0.25em",minWidth:"auto",bg:"transparent",color:"custom.darkBlue",icon:i.createElement(b.J,{as:s.Ao2,w:6,h:6}),isDisabled:v,_hover:{bg:"transparent"},onClick:function(){"1"!==a&&m()}}),i.createElement(I.Z,{fontSize:"1.5rem",letterSpacing:"0.125em",fontFamily:"Flama",color:"lightGray"},i.createElement(I.Z.Inline,{color:"gray"},a),"/",l)),i.createElement(I.Z,{mt:"0.5em",fontWeight:"500",color:"custom.darkBlue",fontSize:"1.125em"},t.question),i.createElement(C.Z,{pt:(0,P.jW)("1em","3em"),px:"9%"},A[a]),i.createElement(C.Z,null,t.options.map((function(e,t){return i.createElement(C.Z,{as:h.E.div,whileTap:{scale:1.1},mt:t&&"1em",key:t},i.createElement(N.Z,{onClick:function(e){u||f(),(0,Q.t6)(a,t),q("answers."+(a-1),t),u&&O(t)},width:"100%",isDisabled:v,isActive:j.answers[+a-1]===t,_hover:{bg:(0,P.jW)("custom.gray","custom.teal")},_active:{bg:"custom.teal"}},e))}))))),u&&i.createElement(C.Z.Absolute,{opacity:"0",width:"0",height:"0",overflow:"hidden",ref:S},i.createElement(M.Z,{tabIndex:"-1",hex:y,to:"/result/"+w})))}},4259:function(e){e.exports=function(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++a<r;)i[a]=e[a+t];return i}},8400:function(e,t,n){var a=n(4259),r=n(6612),i=n(554),o=Math.ceil,c=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:c(i(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,l=0,f=Array(o(s/t));u<s;)f[l++]=a(e,u,u+=t);return f}},928:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},554:function(e,t,n){var a=n(8601);e.exports=function(e){var t=a(e),n=t%1;return t==t?n?t-n:t:0}},8895:function(e,t,n){"use strict";t.Z=n.p+"static/q1-7a49e49b237f8e032b2ddccd6e2336c0.png"},8487:function(e,t,n){"use strict";t.Z=n.p+"static/q1-f530067af586aef58872e02cb2f3fa10.webp"},4478:function(e,t,n){"use strict";t.Z=n.p+"static/q2-9e4a70df4fb8521fd55de4472dd4f9e2.png"},3286:function(e,t,n){"use strict";t.Z=n.p+"static/q2-b1f010be93b22bdbaf7eb0b78636eb0e.webp"},6078:function(e,t,n){"use strict";t.Z=n.p+"static/q3-9f7dd3f95f56311033d9df3b3137f031.png"},7598:function(e,t,n){"use strict";t.Z=n.p+"static/q3-dbab83a7db34c9eeb40239a85946e27f.webp"},7383:function(e,t,n){"use strict";t.Z=n.p+"static/q4-82f54154d7b5814e39e94d2fd1639fda.png"},7879:function(e,t,n){"use strict";t.Z=n.p+"static/q4-1e8492f09d964ce7fa6fb7d730682fc4.webp"},896:function(e,t,n){"use strict";t.Z=n.p+"static/q5-b10e4f8b617da320517c82314132251f.png"},1865:function(e,t,n){"use strict";t.Z=n.p+"static/q5-5b398bfcda23287ef7739f334f1a1691.webp"},7381:function(e,t,n){"use strict";t.Z=n.p+"static/q6-c136f39d28d603ac911aa53083a0acb5.png"},4205:function(e,t,n){"use strict";t.Z=n.p+"static/q6-a466b7699907abd2693febf300f9aca4.webp"}}]);
//# sourceMappingURL=component---src-templates-q-js-45ca36e8824b7438951c.js.map