(self.webpackChunkstyled_gatsby_starter=self.webpackChunkstyled_gatsby_starter||[]).push([[24],{1046:function(e,t,n){"use strict";n.d(t,{w_:function(){return s}});var r=n(7294),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=r.createContext&&r.createContext(a),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function l(e){return e&&e.map((function(e,t){return r.createElement(e.tag,i({key:t},e.attr),l(e.child))}))}function s(e){return function(t){return r.createElement(u,i({attr:i({},e.attr)},t),l(e.child))}}function u(e){var t=function(t){var n,a=e.attr,o=e.size,l=e.title,s=c(e,["attr","size","title"]),u=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,s,{className:n,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==o?r.createElement(o.Consumer,null,(function(e){return t(e)})):t(a)}},146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pe}});var r=n(6968),a=n.n(r),o=n(7294),i=n(5444),c=n(5708),l=n(7247),s=n(2543),u=n(4667);function f(e,t){if(null!=e)if((0,u.mf)(e))e(t);else try{e.current=t}catch(n){throw new Error("Cannot assign value '"+t+"' to ref '"+e+"'")}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){return f(t,e)}))}}var m=n(3888),d=n(7487),v=n(6299),h=n(3971),g=n.n(h),b=n(5587),y=n(4003);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=(0,n(8308).k)({strict:!1,name:"ButtonGroupContext"}),E=(0,y.Z)(x,2),w=E[0],j=E[1],_=(0,s.G)((function(e,t){var n=e.size,r=e.colorScheme,a=e.variant,i=e.className,c=e.spacing,l=void 0===c?"0.5rem":c,s=e.isAttached,u=e.isDisabled,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["size","colorScheme","variant","className","spacing","isAttached","isDisabled"]),p=(0,b.cx)("chakra-button__group",i),m=o.useMemo((function(){return{size:n,colorScheme:r,variant:a,isDisabled:u}}),[n,r,a,u]),d={display:"inline-flex"};return d=O({},d,s?{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}:{"& > *:not(style) ~ *:not(style)":{marginStart:l}}),o.createElement(w,{value:m},o.createElement(v.m$.div,O({ref:t,role:"group",__css:d,className:p},f)))}));u.Ts&&(_.displayName="ButtonGroup");var N=n(5774),k=n(3431),S={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},C=(0,v.m$)("span",{baseStyle:S});u.Ts&&(C.displayName="VisuallyHidden");var I=(0,v.m$)("input",{baseStyle:S});u.Ts&&(I.displayName="VisuallyHiddenInput");function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=(0,k.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Z=(0,s.G)((function(e,t){var n=(0,m.m)("Spinner",e),r=(0,d.Lr)(e),a=r.label,i=void 0===a?"Loading...":a,c=r.thickness,l=void 0===c?"2px":c,s=r.speed,u=void 0===s?"0.45s":s,f=r.emptyColor,p=void 0===f?"transparent":f,h=r.className,g=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["label","thickness","speed","emptyColor","className"]),y=(0,b.cx)("chakra-spinner",h),O=P({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:l,borderBottomColor:p,borderLeftColor:p,animation:T+" "+u+" linear infinite"},n);return o.createElement(v.m$.div,P({ref:t,__css:O,className:y},g),i&&o.createElement(C,null,i))}));function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}u.Ts&&(Z.displayName="Spinner");var z=function(e){var t=e.label,n=e.placement,r=e.children,a=void 0===r?o.createElement(Z,{color:"currentColor",width:"1em",height:"1em"}):r,i=e.className,c=e.__css,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["label","placement","spacing","children","className","__css"]),s=(0,b.cx)("chakra-button__spinner",i),u="start"===n?"marginEnd":"marginStart",f=o.useMemo((function(){var e;return R((e={display:"flex",alignItems:"center",position:t?"relative":"absolute"},(0,N.Z)(e,u,t?"0.5rem":0),(0,N.Z)(e,"fontSize","1em"),(0,N.Z)(e,"lineHeight","normal"),e),c)}),[c,t,u]);return o.createElement(v.m$.div,R({className:s},l,{__css:f}),a)};function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}u.Ts&&(z.displayName="ButtonSpinner");var B=function(e){var t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","className"]),a=o.isValidElement(t)?o.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,i=(0,b.cx)("chakra-button__icon",n);return o.createElement(v.m$.span,$({display:"inline-flex",alignSelf:"center",flexShrink:0},r,{className:i}),a)};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}u.Ts&&(B.displayName="ButtonIcon");var L=(0,s.G)((function(e,t){var n,r,a,i,c,l=j(),s=(0,m.m)("Button",A({},l,e)),u=(0,d.Lr)(e),f=u.isDisabled,h=void 0===f?null==l?void 0:l.isDisabled:f,O=u.isLoading,x=u.isActive,E=u.isFullWidth,w=u.children,_=u.leftIcon,N=u.rightIcon,k=u.loadingText,S=u.iconSpacing,C=void 0===S?"0.5rem":S,I=u.type,P=u.spinner,T=u.spinnerPlacement,Z=void 0===T?"start":T,R=u.className,$=u.as,B=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(u,["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"]),L=o.useMemo((function(){var e,t=g()({},null!=(e=null==s?void 0:s._focus)?e:{},{zIndex:1});return A({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:E?"100%":"auto"},s,!!l&&{_focus:t})}),[s,l,E]),D=(n=$,r=o.useState(!n),a=(0,y.Z)(r,2),i=a[0],c=a[1],{ref:o.useCallback((function(e){e&&c("BUTTON"===e.tagName)}),[]),type:i?"button":void 0}),G=D.ref,q=D.type,F={rightIcon:N,leftIcon:_,iconSpacing:C,children:w};return o.createElement(v.m$.button,A({disabled:h||O,ref:p(t,G),as:$,type:null!=I?I:q,"data-active":(0,b.PB)(x),"data-loading":(0,b.PB)(O),__css:L,className:(0,b.cx)("chakra-button",R)},B),O&&"start"===Z&&o.createElement(z,{className:"chakra-button__spinner--start",label:k,placement:"start"},P),O?k||o.createElement(v.m$.span,{opacity:0},o.createElement(W,F)):o.createElement(W,F),O&&"end"===Z&&o.createElement(z,{className:"chakra-button__spinner--end",label:k,placement:"end"},P))}));function W(e){var t=e.leftIcon,n=e.rightIcon,r=e.children,a=e.iconSpacing;return o.createElement(o.Fragment,null,t&&o.createElement(B,{marginEnd:a},t),r,n&&o.createElement(B,{marginStart:a},n))}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}u.Ts&&(L.displayName="Button");var G=(0,s.G)((function(e,t){var n=e.icon,r=e.children,a=e.isRound,i=e["aria-label"],c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["icon","children","isRound","aria-label"]),l=n||r,s=o.isValidElement(l)?o.cloneElement(l,{"aria-hidden":!0,focusable:!1}):null;return o.createElement(L,D({padding:"0",borderRadius:a?"full":void 0,ref:t,"aria-label":i},c),s)}));u.Ts&&(G.displayName="IconButton");var q=n(8917),F=n(3941),M=n(1531),H=n(8540),V=["to"],J=(0,o.forwardRef)((function(e,t){var n=e.to,r=(0,M.Z)(e,V);return n?o.createElement(H.r,Object.assign({as:function(e){return o.createElement(i.Link,Object.assign({to:n},e))},ref:t},r)):o.createElement(H.r,Object.assign({isExternal:!0,ref:t},r))})),U=n(1401),K=n(4526);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=(0,s.G)((function(e,t){var n=(0,m.m)("Text",e),r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}((0,d.Lr)(e),["className","align","decoration","casing"]),a=(0,K.YU)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return o.createElement(v.m$.p,Y({ref:t,className:(0,b.cx)("chakra-text",e.className)},a,r,{__css:n}))}));u.Ts&&(Q.displayName="Text");var X,ee=n(6026),te=n.n(ee),ne=(0,n(494).Z)(Q)(X||(X=(0,U.Z)([""])));ne.Inline=(0,o.forwardRef)((function(e,t){return o.createElement(ne,Object.assign({as:"span"},e,{ref:t}))})),ne.Bold=(0,o.forwardRef)((function(e,t){return o.createElement(ne,Object.assign({fontWeight:"700"},e,{ref:t}))})),ne.Thin=(0,o.forwardRef)((function(e,t){return o.createElement(ne,Object.assign({fontWeight:"200"},e,{ref:t}))})),te()(1,7).forEach((function(e){ne["H"+e]=(0,o.forwardRef)((function(t,n){return o.createElement(ne,Object.assign({as:"h"+e,fontSize:5-e+"xl"},t,{ref:n}))}))}));var re=ne,ae=n(3347),oe=n(4774),ie=["href"],ce=(0,o.forwardRef)((function(e,t){var n=e.href,r=(0,M.Z)(e,ie);return n?o.createElement(L,Object.assign({as:function(e){return o.createElement(J,Object.assign({},e,{href:n}))},ref:t},r)):o.createElement(L,Object.assign({ref:t},r))}));ce.defaultProps={color:"white",bg:"custom.blue",height:"auto",py:"0.5rem",_hover:{bg:"custom.blue"},fontSize:(0,oe.jW)("0.875em","1.5em")},ce.Secondary=function(e){return o.createElement(ce,Object.assign({colorScheme:"green"},e))},ce.Danger=function(e){return o.createElement(ce,Object.assign({colorScheme:"red"},e))},ce.Orange=function(e){return o.createElement(ce,Object.assign({color:"white",bg:"custom.orange",border:"1px solid",borderColor:"custom.orange",_hover:{bg:"custom.orange"}},e))},ce.Transparent=function(e){return o.createElement(ce,Object.assign({bg:"transparent",_focus:{bg:"transparent"},_hover:{bg:"transparent"},_active:{bg:"transparent"}},e))};var le=ce,se=n(6810),ue=n(4770),fe=n(8646),pe=function(e){var t=e.data,n=e.pageContext,r=n.id,s=n.isLast,u=n.length,f=(0,c.u6)(),p=f.values,m=f.submitForm;(0,o.useEffect)((function(){p.answers.length<+r&&(0,i.navigate)("/q/"+(p.answers.length+1))}),[p.answers,r]);var d=Object.values(fe),v=d.reduce((function(e,t){var n=t.reduce((function(e,t,n){return e+=t[p.answers[n]]||0}),0);return e.push(n),e}),[]);return console.log(p,d,v),o.createElement(ue.Z,{title:"第"+r+"題"},o.createElement(F.Z,{bg:"white",height:"100%"},o.createElement(se.Z,null,o.createElement(ae.Z,{alignItems:"center"},r>1&&o.createElement(G,{as:q.Z,swipe:!0,direction:"right",to:"/q/"+(r-1),mr:"0.25em",minWidth:"auto",w:"1.5em",h:"1.5em",isRound:!0,bg:"black",color:"white",icon:o.createElement(l.Kjp,{size:"1.5em"})}),o.createElement(re,{fontWeight:"bold"},o.createElement(re.Inline,{fontSize:"2em"},r),"/ ",u)),o.createElement(re,null,null==t?void 0:t.questionsJson.question),o.createElement(F.Z,null,null==t?void 0:t.questionsJson.options.map((function(e,t){return o.createElement(F.Z,{mt:"1em",key:t},o.createElement(le,{as:!s&&function(e){return o.createElement(q.Z,Object.assign({top:"entry"},e))},onClick:function(){a()(p,["answers",+r-1],t),s&&m()},to:!s&&"/q/"+(+r+1),swipe:!0,direction:"left",width:"100%"},e))}))))))}},4865:function(e,t,n){var r=n(9465),a=n(7813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},9465:function(e,t,n){var r=n(8777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},98:function(e){var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,o){for(var i=-1,c=n(t((r-e)/(a||1)),0),l=Array(c);c--;)l[o?c:++i]=e,e+=a;return l}},611:function(e,t,n){var r=n(4865),a=n(1811),o=n(5776),i=n(3218),c=n(327);e.exports=function(e,t,n,l){if(!i(e))return e;for(var s=-1,u=(t=a(t,e)).length,f=u-1,p=e;null!=p&&++s<u;){var m=c(t[s]),d=n;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(s!=f){var v=p[m];void 0===(d=l?l(v,m,p):void 0)&&(d=i(v)?v:o(t[s+1])?[]:{})}r(p,m,d),p=p[m]}return e}},7561:function(e,t,n){var r=n(7990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},7445:function(e,t,n){var r=n(98),a=n(6612),o=n(8601);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},8777:function(e,t,n){var r=n(852),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6612:function(e,t,n){var r=n(7813),a=n(8612),o=n(5776),i=n(3218);e.exports=function(e,t,n){if(!i(n))return!1;var c=typeof t;return!!("number"==c?a(n)&&o(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8612:function(e,t,n){var r=n(3560),a=n(1780);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},1780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6026:function(e,t,n){var r=n(7445)();e.exports=r},6968:function(e,t,n){var r=n(611);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},8601:function(e,t,n){var r=n(4841),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},4841:function(e,t,n){var r=n(7561),a=n(3218),o=n(3448),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||l.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}}}]);
//# sourceMappingURL=component---src-templates-question-js-89382720d553c2a43167.js.map